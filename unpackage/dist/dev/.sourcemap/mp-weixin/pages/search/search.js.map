{"version":3,"sources":["webpack:///D:/test/mobile/chatRoom/chatRoom/main.js","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue?fcf0","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue?8bd4","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue?0293","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue?a6c1","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue?1fcb","webpack:///D:/test/mobile/chatRoom/chatRoom/pages/search/search.vue?1616"],"names":["createPage","Page","data","msg","userarr","token","uid","fid","myname","animationData","isModify","modifyHeight","onLoad","getStorages","onReady","getElementStyle","methods","toChatRoom","console","log","query","uni","createSelectorQuery","in","select","boundingClientRect","height","exec","modify","animation","createAnimation","duration","timingFunction","bottom","step","export","addFriendBtn","addSubmit","length","request","url","serverUrl","method","success","status","showToast","title","icon","value","getStorageSync","id","name","navigateTo","e","search","myfun","debounce","searchval","detail","searchUser","arr","result","exp","eval","i","isFriend","tip","_id","imgurl","replace","email","push","backOne","navigateBack","delta"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=64fa5314&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"test/mobile/chatRoom/chatRoom/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=64fa5314&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport data from '../../commons/js/data.js';\r\nimport myfun from '../../commons/js/myfun.js'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmsg:'',\r\n\t\t\tuserarr: [],\r\n\t\t\ttoken:'',\r\n\t\t\tuid:'',\r\n\t\t\tfid:'',\r\n\t\t\tmyname:'',\r\n\t\t\tanimationData:{},\r\n\t\t\tisModify:false,\r\n\t\t\tmodifyHeight:''\r\n\t\t};\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.getStorages();\r\n\t},\r\n\tonReady() {\r\n\t\tthis.getElementStyle();\r\n\t},\r\n\tmethods: {\r\n\t\t// 跳转到聊天页面\r\n\t\ttoChatRoom(data) {\r\n\t\t\tconsole.log(data)\r\n\t\t\t// uni.navigateTo({\r\n\t\t\t// \turl: '../chatroom/chatroom?id=' + data._id + '&name=' + data.name + '&imgurl=' + data.imgurl + '&type=' + data.type\r\n\t\t\t// });\r\n\t\t},\r\n\t\t//获取页面高度\r\n\t\tgetElementStyle(){\r\n\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\tquery.select('.modify').boundingClientRect(data => {\r\n\t\t\t\tthis.modifyHeight = data.height;\r\n\t\t\t}).exec()\r\n\t\t},\r\n\t\t//修改项弹框\r\n\t\tmodify(){\r\n\t\t\tthis.isModify = !this.isModify;\r\n\t\t\tvar animation = uni.createAnimation({\r\n\t\t\t\tduration:300,\r\n\t\t\t\ttimingFunction:'ease'\r\n\t\t\t})\r\n\t\t\tif(this.isModify){\r\n\t\t\t\tanimation.bottom(0).step()\r\n\t\t\t}else{\r\n\t\t\t\tanimation.bottom(-this.modifyHeight).step()\r\n\t\t\t}\r\n\t\t\tthis.animationData = animation.export()\r\n\t\t},\r\n\t\t// 添加好友按钮\r\n\t\taddFriendBtn(fid){\r\n\t\t\tthis.fid = fid\r\n\t\t\tthis.msg = this.myname + '请求添加好友~'\r\n\t\t\tthis.modify()\r\n\t\t},\r\n\t\t// 确定添加好友\r\n\t\taddSubmit(){\r\n\t\t\tif(this.msg.length > 0){\r\n\t\t\t\tthis.modify();\r\n\t\t\t\tuni.request({\r\n\t\t\t\t   url:this.serverUrl + '/friend/applyfriend',\r\n\t\t\t\t   data:{\r\n\t\t\t\t\t   uid:this.uid,\r\n\t\t\t\t\t   fid:this.fid,\r\n\t\t\t\t\t   token:this.token,\r\n\t\t\t\t\t   msg:this.msg\r\n\t\t\t\t   },\r\n\t\t\t\t   method:'POST',\r\n\t\t\t\t   success: (data) => {\r\n\t\t\t\t\t\tlet status = data.data.status;\r\n\t\t\t\t\t\tif(status == 200){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'好友请求发送成功!',\r\n\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'服务器出错了!',\r\n\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t   }\r\n\t\t\t    })\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetStorages(){\r\n\t\t\ttry{\r\n\t\t\t\tconst value = uni.getStorageSync('user');\r\n\t\t\t\tif(value){\r\n\t\t\t\t\tthis.uid = value.id;\r\n\t\t\t\t\tthis.myname = value.name;\r\n\t\t\t\t\t// this.imgurl = this.serverUrl + value.imgurl;\r\n\t\t\t\t\tthis.token =value.token;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../signin/signin'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tsearch:myfun.debounce(function(e){\r\n\t\t\tthis.userarr = [];\r\n\t\t\tlet searchval = e.detail.value;\r\n\t\t\tif (searchval.length > 0) {\r\n\t\t\t\tthis.searchUser(searchval);\r\n\t\t\t}\r\n\t\t},500),\r\n\t\t\r\n\t\t//寻找关键词匹配的用户\r\n\t\tsearchUser: function(e) {\r\n\t\t\tuni.request({\r\n\t\t\t\turl:this.serverUrl + '/search/user',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tdata:e,\r\n\t\t\t\t\ttoken:this.token\r\n\t\t\t\t},\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tsuccess: (data) => {\r\n\t\t\t\t\tlet status = data.data.status;\r\n\t\t\t\t\tif(status == 200){\r\n\t\t\t\t\t\tlet arr = data.data.result;\r\n\t\t\t\t\t\tlet exp = eval('/' + e + '/g');\r\n\t\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\t\t\t\t// if (arr[i].name.search(e) != -1 || arr[i].email.search(e) != -1) {\r\n\t\t\t\t\t\t\t\tthis.isFriend(arr[i],e);\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(status == 300){\r\n\t\t\t\t\t\t// token过期跳回到登录页面\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:'../signin/signin?name=' + this.myname\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'服务器出错了!',\r\n\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//判断是否为好友\r\n\t\tisFriend: function(arr,e) {\r\n\t\t\tlet exp = eval('/' + e + '/g');\r\n\t\t\tlet tip = 0;\r\n\t\t\tif(arr._id == this.uid){\r\n\t\t\t\ttip = 2;\r\n\t\t\t\tarr.imgurl = this.serverUrl + arr.imgurl;\r\n\t\t\t\tarr.name = arr.name.replace(exp, \"<span style='color:#4AAAFF;'>\" + e + '</span>');\r\n\t\t\t\tarr.email = arr.email.replace(exp, \"<span style='color:#4AAAFF;'>\" + e + '</span>');\r\n\t\t\t\tthis.userarr.push(arr);\r\n\t\t\t\tarr.tip = tip;\r\n\t\t\t}else{\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:this.serverUrl + '/search/isfriend',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tuid:this.uid,\r\n\t\t\t\t\t\tfid:arr._id,\r\n\t\t\t\t\t\ttoken:this.token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tsuccess: (data) => {\r\n\t\t\t\t\t\tlet status = data.data.status;\r\n\t\t\t\t\t\tif(status == 200){\r\n\t\t\t\t\t\t\tlet arr = data.data.result;\r\n\t\t\t\t\t\t\t// 是好友\r\n\t\t\t\t\t\t\ttip = 1;\r\n\t\t\t\t\t\t}else if(status == 300){\r\n\t\t\t\t\t\t\t// token过期跳回到登录页面\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl:'../signin/signin?name=' + this.myname\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(status == 400){\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'服务器出错了!',\r\n\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tarr.imgurl = this.serverUrl + arr.imgurl;\r\n\t\t\t\t\t\tarr.name = arr.name.replace(exp, \"<span style='color:#4AAAFF;'>\" + e + '</span>');\r\n\t\t\t\t\t\tarr.email = arr.email.replace(exp, \"<span style='color:#4AAAFF;'>\" + e + '</span>');\r\n\t\t\t\t\t\tthis.userarr.push(arr);\r\n\t\t\t\t\t\tarr.tip = tip;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t//返回首页\r\n\t\t//返回登录页面\r\n\t\tbackOne:function(){\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta:1 // 返回一层\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1598509354561\n      var cssReload = require(\"D:/software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}